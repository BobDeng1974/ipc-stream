cmake_minimum_required (VERSION 2.8)
set( APPNAME ipc-stream )
project( ${APPNAME} )
set(CMAKE_BUILD_TYPE Debug)
add_definitions( "-Wall -g" )
include_directories(${CMAKE_CURRENT_SOURCE_DIR}/include/paho)
include_directories(${CMAKE_CURRENT_SOURCE_DIR}/include/rtmp)
AUX_SOURCE_DIRECTORY( ./src DIR_SRCS)
if (arm)
    AUX_SOURCE_DIRECTORY( ./src/arm DIR_SRCS)
endif()
if (arm)
link_directories(${CMAKE_CURRENT_SOURCE_DIR}/libs/arm)
else()
link_directories(${CMAKE_CURRENT_SOURCE_DIR}/libs/x86/)
endif()
ADD_EXECUTABLE( ${APPNAME} ${DIR_SRCS} )
target_link_libraries( ${APPNAME} rtmp MQTTPacketClient paho-embed-mqtt3cc pthread )
